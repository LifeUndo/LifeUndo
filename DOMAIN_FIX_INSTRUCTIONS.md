# üö® –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–¥-–∞–ª–∏–∞—Å–∞ lifeundo.ru

## –ü—Ä–æ–±–ª–µ–º–∞
–î–æ–º–µ–Ω `lifeundo.ru` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö (`/ru`, `/ok`, `/ru/pricing`), —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–æ–º–µ–Ω –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø—Ä–æ–µ–∫—Ç—É –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–µ –ø–æ–ª—É—á–∏–ª –ø—Ä–æ–¥-–∞–ª–∏–∞—Å.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ü—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–∞ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø—Ä–æ–µ–∫—Ç—É

**–í Vercel Dashboard:**

1. **Projects** ‚Üí –æ—Ç–∫—Ä–æ–π—Ç–µ **–æ–±–∞** –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `life-undo` –∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π)
2. –í –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ ‚Üí **Settings ‚Üí Domains**:

   **–í –ø—Ä–æ–µ–∫—Ç–µ `life-undo` (–Ω–∞—à Next.js):**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `lifeundo.ru` –∏ `www.lifeundo.ru` –ø—Ä–∏–≤—è–∑–∞–Ω—ã **—Ç–æ–ª—å–∫–æ** –∫ —ç—Ç–æ–º—É –ø—Ä–æ–µ–∫—Ç—É
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Primary Domain = `lifeundo.ru`**
   - –í–∫–ª—é—á–∏—Ç–µ 308-—Ä–µ–¥–∏—Ä–µ–∫—Ç `www.lifeundo.ru` ‚Üí `lifeundo.ru` (–∫–Ω–æ–ø–∫–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ–º–µ–Ω–∞)
   - –î–æ–∂–¥–∏—Ç–µ—Å—å —Å—Ç–∞—Ç—É—Å–∞ **Valid Configuration**

   **–í –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö:**
   - –ï—Å–ª–∏ –¥–æ–º–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –¥—Ä—É–≥–æ–º—É –ø—Ä–æ–µ–∫—Ç—É ‚Üí –Ω–∞–∂–º–∏—Ç–µ **Transfer / Move** –∏ –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –æ–±–∞ –¥–æ–º–µ–Ω–∞ –≤ `life-undo`
   - –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–≤—è–∑–∫—É –¥–æ–º–µ–Ω–æ–≤ –∏–∑ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### 2. –ü—Ä–æ–º–æ—É—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ Preview –≤ Production

1. **Projects ‚Üí life-undo ‚Üí Deployments**
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π **Preview** (–≤–µ—Ç–∫–∞ `fix/middleware-ru-404`) —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º ‚úÖ
3. –û—Ç–∫—Ä–æ–π—Ç–µ **‚Ä¶ ‚Üí Promote to Production**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è

   **–ï—Å–ª–∏ Preview –Ω–µ –∑–µ–ª—ë–Ω—ã–π:**
   - –ù–µ –ø—Ä–æ–º–æ—É—Ç—å—Ç–µ
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ 20-30 —Å—Ç—Ä–æ–∫ –∏–∑ **Logs** –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏

### 3. –ü–æ—Å—Ç–¥–µ–ø–ª–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Production –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- `https://lifeundo.ru/` ‚Üí –¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ `/ru` (308)
- `https://lifeundo.ru/ru` ‚Üí –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (200 OK)
- `https://lifeundo.ru/ru/pricing` ‚Üí –¥–æ–ª–∂–Ω—ã –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ç–∞—Ä–∏—Ñ—ã (200 OK)
- `https://lifeundo.ru/ok` ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "OK" (200 OK)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è `/ok`:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://lifeundo.ru/ok` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. DevTools (F12) ‚Üí Network
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
4. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ `/ok` –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
   - `Cache-Control: no-store, no-cache, must-revalidate`
   - `Pragma: no-cache`

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å (–ø—Ä–æ–π–¥–µ–Ω)

‚úÖ **src/middleware.ts** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç —Ç–æ–ª—å–∫–æ `/` ‚Üí `/ru`
‚úÖ **next.config.mjs** - –±–µ–∑ `output: 'export'`, —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å `permanent: false`
‚úÖ **–í—Å–µ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç**:
- `src/app/[locale]/page.tsx` ‚úÖ
- `src/app/[locale]/pricing/page.tsx` ‚úÖ
- `src/app/ok/route.ts` ‚úÖ
- `src/app/api/healthz/route.ts` ‚úÖ
- `src/app/ping/page.tsx` ‚úÖ

## Build Output (–ø—Ä—É—Ñ)

```
Route (app)                              Size     First Load JS
‚îú ∆í /[locale]                            177 B          87.3 kB
‚îú ∆í /[locale]/pricing                    177 B          87.3 kB
‚îú ‚óã /ok                                  0 B                0 B
‚îú ‚óã /api/healthz                         0 B                0 B
‚îî ∆í Middleware                           26.4 kB
```

## –ü—Ä—É—Ñ—ã –¥–ª—è —Ä–µ–ª–∏–∑–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:

1. **–°–∫—Ä–∏–Ω—ã Domains** –ø—Ä–æ–µ–∫—Ç–∞ `life-undo`:
   - `lifeundo.ru` = Valid Configuration, Primary Domain
   - `www.lifeundo.ru` = Valid Configuration, 308 redirect –Ω–∞ apex

2. **–°–∫—Ä–∏–Ω Production Deployment** (—É—Å–ø–µ—à–Ω—ã–π)

3. **–°–∫—Ä–∏–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü**:
   - `/ru` (desktop)
   - `/ru` (mobile)
   - `/ru/pricing`
   - –ü–∞–Ω–µ–ª—å –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —É `/ok` –≤ DevTools

4. **–§—Ä–∞–≥–º–µ–Ω—Ç Vercel build log** —Å–æ —Å–ø–∏—Å–∫–æ–º —Ä–æ—É—Ç–æ–≤

5. **–ï—Å–ª–∏ –±—ã–ª–∏ –æ—à–∏–±–∫–∏** - 20-30 —Å—Ç—Ä–æ–∫ Logs –∏ —á—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–ª–∏

## –ü–æ—á–µ–º—É 404 —Å–µ–π—á–∞—Å?

–õ–∏–±–æ –¥–æ–º–µ–Ω—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –¥—Ä—É–≥–æ–º—É –ø—Ä–æ–µ–∫—Ç—É, –ª–∏–±–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —É–¥–∞—á–Ω—ã–π –ø—Ä–æ–¥-–¥–µ–ø–ª–æ–π –Ω–µ –ø–æ–ª—É—á–∏–ª –ø—Ä–æ–¥-–∞–ª–∏–∞—Å. –ü—Ä–æ–º–æ—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ Preview + –ø—Ä–∏–≤—è–∑–∫–∞ –¥–æ–º–µ–Ω–∞ –∫ –Ω—É–∂–Ω–æ–º—É –ø—Ä–æ–µ–∫—Ç—É —Ä–µ—à–∞—é—Ç —ç—Ç–æ –∑–∞ –ø–∞—Ä—É –º–∏–Ω—É—Ç.

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é!** üöÄ
