# üöÄ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ - –í–∞—Ä–∏–∞–Ω—Ç A

## **üìã –ß–¢–û –°–î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:**

### **1. NS —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ = Cloudflare:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NS –∑–∞–ø–∏—Å–∏ —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- [ ] –ï—Å–ª–∏ –Ω–µ Cloudflare - —Å–º–µ–Ω–∏—Ç—å –Ω–∞ NS –∏–∑ –∑–æ–Ω—ã Cloudflare
- [ ] –î–æ–º–µ–Ω –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å "Active" –≤ Cloudflare

### **2. Cloudflare ‚Üí DNS (–Ω–∞ –∫–∞–∂–¥—É—é –∑–æ–Ω—É):**
- [ ] **–£–¥–∞–ª–∏—Ç—å:**
  - `A @` ‚Üí `76.76.21.21` (Vercel)
  - `CNAME www` ‚Üí `*.vercel.app` (Vercel)
  - `CNAME www` ‚Üí `github.io` (GitHub)
- [ ] **–°–æ–∑–¥–∞—Ç—å:**
  - `A @` ‚Üí `<BEGET_IP>` (Proxy **ON**)
  - `CNAME www` ‚Üí `@` (Proxy **ON**)
- [ ] **SSL/TLS**: Full (strict)

### **3. Caching:**
- [ ] **Purge Everything**
- [ ] **Dev Mode ON** (3 —á–∞—Å–∞)
- [ ] **Always Online OFF**

### **4. Vercel:**
- [ ] **–°–Ω—è—Ç—å –¥–æ–º–µ–Ω—ã**: `lifeundo.ru`, `www.lifeundo.ru`
- [ ] **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏**: `getlifeundo.com`
- [ ] **–ü—Ä–æ–µ–∫—Ç –ù–ï —É–¥–∞–ª—è—Ç—å** - –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –ø—Ä–µ–≤—å—é

## **üîç –ë–´–°–¢–†–´–ï –ü–†–û–í–ï–†–ö–ò (–ø–æ—Å–ª–µ DNS):**

### **1. DNS —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ Beget:**
```bash
dig +short lifeundo.ru A
dig +short www.lifeundo.ru CNAME
```
- [ ] –ù–ï `76.76.21.21`
- [ ] –ù–ï `github.io`

### **2. –ó–∞–≥–æ–ª–æ–≤–∫–∏ —á–µ—Ä–µ–∑ Cloudflare:**
```bash
curl -I -H "Cache-Control: no-cache" -L "https://lifeundo.ru/?cb=$(date +%s)" | \
  sed -n '1p;/^server:/Ip;/^cf-cache-status:/Ip;/^x-vercel/Ip;/^location:/Ip'
```
- [ ] `server: cloudflare`
- [ ] `cf-cache-status: DYNAMIC|MISS`
- [ ] **–ù–ï–¢** `x-vercel-*`

## **‚úÖ ACCEPTANCE-–ö–†–ò–¢–ï–†–ò–ò (–≥–æ—Ç–æ–≤–æ, –µ—Å–ª–∏ –≤—Å–µ true):**

### **1. –í–µ—Ä—Å–∏–∏:**
- [ ] `.ru` –∏ `.com` –æ—Ç–¥–∞—é—Ç **0.4.1** –Ω–∞ `/status`

### **2. –ó–∞–≥–æ–ª–æ–≤–∫–∏:**
- [ ] –ù–µ—Ç `X-Vercel-*` –∏ –ª–∏—à–Ω–∏—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤

### **3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- [ ] `/admin` –∑–∞–∫—Ä—ã—Ç BasicAuth
- [ ] IP whitelist –∞–∫—Ç–∏–≤–µ–Ω (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

### **4. API endpoints:**
- [ ] **Legacy**: `/api/license/{validate|activate}` —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] **–ù–æ–≤—ã–µ**: `/api/v1/{licenses/validate|activate, usage}` —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] `/api/v1/usage` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ 2-3 –≤—ã–∑–æ–≤–æ–≤

### **5. Monitoring:**
- [ ] Sentry –ª–æ–≤–∏—Ç —Å–æ–±—ã—Ç–∏—è (–µ—Å–ª–∏ DSN –¥–æ–±–∞–≤–ª–µ–Ω)
- [ ] Cloudflare WAF –∞–∫—Ç–∏–≤–µ–Ω (`/admin`, `/drizzle`)
- [ ] Rate Limit `/api/*` –∞–∫—Ç–∏–≤–µ–Ω

## ** FreeKassa (–Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è–µ–º):**

### **1. Webhook:**
- [ ] –û—Å—Ç–∞—ë—Ç—Å—è: `https://getlifeundo.com/api/fk/notify`
- [ ] –°–º–æ—É–∫: —Ç–µ—Å—Ç-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –õ–ö FK
- [ ] –ó–∞–ø–∏—Å—å –≤ `webhooks`, `payments`, `orders.status=paid`

## **üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ ¬´–∑–∞–ª–∏–ø–ª–æ¬ª:**

### **1. –ö—ç—à:**
- [ ] Dev Mode ON
- [ ] Purge Everything
- [ ] –î–æ–±–∞–≤–∏—Ç—å `?cb=<timestamp>` –≤ URL

### **2. Beget:**
```bash
rm -rf .next && npm run build && npm start
```
- [ ] –£–±—Ä–∞—Ç—å `index.html` –∏–∑ –∫–æ—Ä–Ω—è
- [ ] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Next

## **üîÑ Rollback (–Ω–∞ –≤—Å—è–∫–∏–π):**

### **1. –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç:**
- [ ] Cloudflare ‚Üí Redirect Rule 301
- [ ] `.ru ‚Üí .com` –ø–æ–∫–∞ –ø—Ä–∞–≤–∏—à—å DNS
- [ ] –ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞ - —Å–Ω—è—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç
- [ ] –°–Ω–æ–≤–∞ Purge

## **üéØ –ö–†–ò–¢–ï–†–ò–ò –ì–û–¢–û–í–ù–û–°–¢–ò:**

- [ ] NS –∑–∞–ø–∏—Å–∏ = Cloudflare
- [ ] DNS –∑–∞–ø–∏—Å–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑ Vercel
- [ ] –û–±–∞ –¥–æ–º–µ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 0.4.1
- [ ] –í—Å–µ API —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Usage tracking —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] FreeKassa webhook —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

## **üéâ –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£:**

–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤:
- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ "VIP –ª–∏—Ü–µ–Ω–∑–∏—è" —Ä–µ—à–µ–Ω–∞
- ‚úÖ –û–±–∞ –¥–æ–º–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞
- ‚úÖ FreeKassa –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ Vercel –¥–ª—è –ø—Ä–µ–≤—å—é
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞

**GetLifeUndo 0.4.1 –∏–¥–µ–∞–ª—å–Ω–æ –≥–æ—Ç–æ–≤! üöÄ**

