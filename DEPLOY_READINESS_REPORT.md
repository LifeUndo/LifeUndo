# üöÄ –û—Ç—á–µ—Ç –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ Production –¥–µ–ø–ª–æ—é

## ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### 1. Middleware (src/middleware.ts)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π middleware
- ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç —Ç–æ–ª—å–∫–æ `/` ‚Üí `/ru` (308)
- ‚úÖ –ù–µ —Ç—Ä–æ–≥–∞–µ—Ç `/[locale]/*`, `/api/healthz`, `/ok`, `robots.txt`, `sitemap.xml`
- ‚úÖ –†–∞–∑–º–µ—Ä: 26.4 kB

### 2. next.config.mjs
- ‚úÖ –ù–µ—Ç `output: 'export'`
- ‚úÖ –¢–æ–ª—å–∫–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç `/` ‚Üí `/ru` (permanent: false)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ headers –¥–ª—è `/ok`

### 3. –í—Å–µ —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
- ‚úÖ `src/app/[locale]/page.tsx` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ `src/app/[locale]/pricing/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–∞—Ä–∏—Ñ–æ–≤
- ‚úÖ `src/app/ok/route.ts` - —Å—Ç–∞—Ç—É—Å —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- ‚úÖ `src/app/api/healthz/route.ts` - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'ok'
- ‚úÖ `src/app/ping/page.tsx` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

## üìã Build Output (–ø—Ä—É—Ñ)

```
Route (app)                              Size     First Load JS
‚îú ∆í /[locale]                            177 B          87.3 kB
‚îú ∆í /[locale]/pricing                    177 B          87.3 kB
‚îú ‚óã /ping                                177 B          87.3 kB
‚îú ‚óã /api/healthz                         0 B                0 B
‚îú ‚óã /ok                                  0 B                0 B
‚îî ∆í Middleware                           26.4 kB
```

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ Production –¥–µ–ø–ª–æ—è:

### Preview –ø—Ä–æ–≤–µ—Ä–∫–∏:
- `/<preview>/ping` ‚Üí —Ç–µ–∫—Å—Ç **pong**
- `/<preview>/api/healthz` ‚Üí **ok**
- `/<preview>/ru` ‚Üí –≥–ª–∞–≤–Ω–∞—è (SberDevices-—Å—Ç–∏–ª—å)
- `/<preview>/ru/pricing` ‚Üí —Ç–∞—Ä–∏—Ñ—ã

### Production –ø—Ä–æ–≤–µ—Ä–∫–∏:
- `https://lifeundo.ru/` ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/ru`
- `https://lifeundo.ru/ru` ‚Üí 200 OK (–≥–ª–∞–≤–Ω–∞—è)
- `https://lifeundo.ru/ru/pricing` ‚Üí 200 OK (—Ç–∞—Ä–∏—Ñ—ã)
- `https://lifeundo.ru/ok` ‚Üí 200 OK —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏:
  - `Cache-Control: no-store, no-cache, must-revalidate`
  - `Pragma: no-cache`

## üìù –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

- ‚úÖ –í–µ—Ç–∫–∞ `fix/middleware-ru-404` —Å–ª–∏—Ç–∞ –≤ `main`
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ Vercel –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Production –¥–µ–ø–ª–æ–π
- ‚è≥ –û–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è

## üîç –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. **Vercel Dashboard** ‚Üí Projects ‚Üí life-undo ‚Üí Deployments
2. **–ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π Production –¥–µ–ø–ª–æ–π** (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω)
3. **–ï—Å–ª–∏ –µ—Å—Ç—å Preview** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –∑–∞—Ç–µ–º Promote to Production
4. **–ü–æ—Å–ª–µ Production** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `https://lifeundo.ru`

---

**–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –¥–µ–ø–ª–æ—è!** üöÄ
