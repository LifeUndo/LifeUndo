# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ LifeUndo

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ 2FA –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –®–∞–≥ 1: –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:3000/ru/admin`
2. –í–≤–µ–¥–∏—Ç–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ:
   - Email: `admin@lifeundo.ru`
   - –ü–∞—Ä–æ–ª—å: `admin123`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ 2FA
1. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å 2FA
2. –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É"
3. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞:
   - Google Authenticator
   - Authy
   - Aegis Authenticator
4. –í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ

### –®–∞–≥ 3: –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤—Ö–æ–¥—ã
1. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å
2. –í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–æ–≤

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤
–í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `business/secrets/credentials.json`:
- TOTP —Å–µ–∫—Ä–µ—Ç—ã –∏ –∫–æ–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü–∞—Ä–æ–ª–∏ –∏ API –∫–ª—é—á–∏
- –¢–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É —Å–µ–∫—Ä–µ—Ç–æ–≤
```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
icacls "C:\Users\Home\Downloads\LifeUndo\business\secrets" /inheritance:r
icacls "C:\Users\Home\Downloads\LifeUndo\business\secrets" /grant:r "HOME\Sergey:(OI)(CI)F"
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤ —Ñ–∞–π–ª–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ `C:\–ó–∞–≥—Ä—É–∑–∫–∏\secrets_backup`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –∞—Ä—Ö–∏–≤–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`:
```env
# 2FA Master Key (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: openssl rand -hex 32)
TOTP_MASTER_KEY=your-32-byte-hex-key-here

# Database
DATABASE_URL=postgresql://lifeundo_admin:****@localhost:5432/lifeundo

# SMTP
SMTP_HOST=smtp.lifeundo.ru
SMTP_PORT=465
SMTP_USER=mailer@lifeundo.ru
SMTP_PASS=****

# Payment Provider
FREEKASSA_MERCHANT_ID=****
FREEKASSA_SECRET_WORD=****
FREEKASSA_API_KEY=****

# Telegram
TELEGRAM_BOT_TOKEN=****
TELEGRAM_ADMIN_CHAT_ID=****
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å 2FA –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –Ω–∞ –ø–∞–ø–∫—É secrets
- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π TOTP_MASTER_KEY
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥ —Å 2FA

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –≤ Git
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –∞—Ä—Ö–∏–≤–æ–≤
- –•—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## üö® –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ü—Ä–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–∏ –Ω–∞ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—é:
1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏
2. –û—Ç–∑–æ–≤–∏—Ç–µ –≤—Å–µ API —Ç–æ–∫–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ 2FA –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–Ω–æ–≤–æ

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
2. –ü—Ä–∏ –∏—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ - –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
3. –í –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω-–∞–∫–∫–∞—É–Ω—Ç

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å:
- Email: security@lifeundo.ru
- Telegram: @lifeundo_security
