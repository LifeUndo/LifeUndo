# üîÑ Rollback –ø–ª–∞–Ω (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)

## **üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**

### **1. –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ):**

#### **Cloudflare ‚Üí Redirect Rule:**
1. **Rules** ‚Üí **Redirect Rules**
2. **Create Redirect Rule**
3. **Expression**: `(http.host eq "lifeundo.ru") or (http.host eq "www.lifeundo.ru")`
4. **Action**: **Redirect** ‚Üí **301 Permanent**
5. **Target URL**: `https://getlifeundo.com/$1`
6. **Save**

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `.ru` –±—É–¥—É—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ `.com`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —É–≤–∏–¥—è—Ç –æ—à–∏–±–æ–∫
- –í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS

### **2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS (–æ—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ):**

#### **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å NS –∑–∞–ø–∏—Å–∏:**
```bash
dig NS lifeundo.ru +short
```
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å Cloudflare NS
- –ï—Å–ª–∏ –Ω–µ—Ç - –∏–∑–º–µ–Ω–∏—Ç—å —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

#### **–ò—Å–ø—Ä–∞–≤–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏:**
1. **Cloudflare** ‚Üí **DNS** ‚Üí **Records**
2. **–£–¥–∞–ª–∏—Ç—å** –∑–∞–ø–∏—Å–∏ –Ω–∞ Vercel/GitHub
3. **–°–æ–∑–¥–∞—Ç—å** –∑–∞–ø–∏—Å–∏ –Ω–∞ Beget
4. **Proxy** ‚Üí **ON**
5. **SSL/TLS** ‚Üí **Full (strict)**

#### **–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à:**
- **Purge Everything**
- **Dev Mode ON** (3 —á–∞—Å–∞)
- **Always Online OFF**

### **3. –°–Ω—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç:**

#### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è DNS:**
1. **Cloudflare** ‚Üí **Rules** ‚Üí **Redirect Rules**
2. **Delete** –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç
3. **Purge Everything** –µ—â–µ —Ä–∞–∑

### **4. –ü—Ä–æ–≤–µ—Ä–∫–∞:**

#### **DNS:**
```bash
dig +short lifeundo.ru A
```
- –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å Beget IP

#### **–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```bash
curl -I https://lifeundo.ru/
```
- –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å Cloudflare headers
- –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å Vercel headers

#### **–ö–æ–Ω—Ç–µ–Ω—Ç:**
```bash
curl -s https://lifeundo.ru/status | head -n1
```
- –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å `App version: 0.4.1`

## **üõ†Ô∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ ¬´–∑–∞–ª–∏–ø–ª–æ¬ª:**

### **1. –ö—ç—à –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è:**
- **Dev Mode ON**
- **Purge Everything**
- –î–æ–±–∞–≤–∏—Ç—å `?cb=<timestamp>` –≤ URL
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞

### **2. –°—Ç–∞—Ä–∞—è —Å—Ç–∞—Ç–∏–∫–∞ –Ω–∞ Beget:**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ Beget:
rm -rf .next
npm run build
npm start
```
- –£–±—Ä–∞—Ç—å `index.html` –∏–∑ –∫–æ—Ä–Ω—è
- –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Next.js

### **3. DNS –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NS –∑–∞–ø–∏—Å–∏ —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ Cloudflare NS –∞–∫—Ç–∏–≤–Ω—ã
- –ü–æ–¥–æ–∂–¥–∞—Ç—å 5-10 –º–∏–Ω—É—Ç
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞

## **üìã –ß–ï–ö-–õ–ò–°–¢ ROLLBACK:**

### **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- [ ] –í–∫–ª—é—á–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç `.ru ‚Üí .com`
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥—è—Ç –æ—à–∏–±–æ–∫
- [ ] –í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### **–û—Å–Ω–æ–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å NS –∑–∞–ø–∏—Å–∏
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å DNS –∑–∞–ø–∏—Å–∏
- [ ] –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### **–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è:**
- [ ] –°–Ω—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç
- [ ] –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –µ—â–µ —Ä–∞–∑
- [ ] –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

## **üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê:**

- [ ] DNS –∑–∞–ø–∏—Å–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [ ] –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑ Vercel
- [ ] –û–±–∞ –¥–æ–º–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥—è—Ç –æ—à–∏–±–æ–∫

## **üöÄ –ì–û–¢–û–í–û:**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ rollback:
- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
- ‚úÖ –û–±–∞ –¥–æ–º–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–≤–æ–ª—å–Ω—ã

**Rollback –ø–ª–∞–Ω –≥–æ—Ç–æ–≤! üõ°Ô∏è**


