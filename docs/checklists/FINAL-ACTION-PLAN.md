# üéØ FINAL ACTION PLAN - –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –≤–∏—Å—è—â–∏—Ö –∑–∞–¥–∞—á

## üìã –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

### 1. –ü–æ—Å–ª–µ Cloudflare + Vercel —Ñ–∏–∫—Å–æ–≤:
```powershell
.\post-fix-check.ps1
```

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π 035-038:
```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å DATABASE_URL (–ø—Ä–∏–º–µ—Ä –¥–ª—è Neon)
$env:DATABASE_URL="postgresql://username:password@ep-xxx-xxx.us-east-1.aws.neon.tech/neondb?sslmode=require"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
.\apply-migrations-ready.ps1
```

### 3. –ó–∞–ø—É—Å–∫ SMTP —Å–µ—Ä–≤–∏—Å–æ–≤:
```powershell
npm run smtp:start    # SMTP Listener :2525
npm run relay:start   # Email Relay Sender
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ System Health:
```
https://getlifeundo.com/admin/system-health
```

---

## ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç–æ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

### –ú–∏–≥—Ä–∞—Ü–∏–∏ (–ø–æ–º–µ—Ç–∏—Ç—å "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"):
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è 035_email_pause.sql** - —Å—Ö–µ–º–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ø–∏—Å–µ–º
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è 036_rbac_multitenant.sql** - –ø–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ RBAC + Multi-tenant  
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è 037_email_smtp_relay.sql** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—Ö–µ–º—ã –¥–ª—è SMTP —Ä–µ–ª—ç—è
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è 038_billing_core.sql** - –ø–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –±–∏–ª–ª–∏–Ω–≥–∞ —Å –ø–ª–∞–Ω–∞–º–∏ –∏ –∫–≤–æ—Ç–∞–º–∏

### Smoke-—Ç–µ—Å—Ç—ã (–ø–æ–º–µ—Ç–∏—Ç—å "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"):
- ‚úÖ **Smoke-—Ç–µ—Å—Ç—ã –¥–ª—è email submit/approve/deny API endpoints**
- ‚úÖ **Smoke-—Ç–µ—Å—Ç—ã –¥–ª—è API keys, webhooks, partner portal**
- ‚úÖ **Smoke-—Ç–µ—Å—Ç—ã –¥–ª—è billing API endpoints (–ø–ª–∞–Ω—ã, –ø–æ–¥–ø–∏—Å–∫–∏, –∏–Ω–≤–æ–π—Å—ã)**

### E2E —Ç–µ—Å—Ç—ã (–ø–æ–º–µ—Ç–∏—Ç—å "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"):
- ‚úÖ **E2E —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ email-pause: 2 passed** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **E2E —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ RBAC: 2 passed** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç  
- ‚úÖ **E2E —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ SMTP: 2 passed** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **E2E —Ç–µ—Å—Ç—ã –ø–æ—Å–ª–µ billing: 2 passed** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø–æ–º–µ—Ç–∏—Ç—å "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"):
- ‚úÖ **GitHub —Ç—ç–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã: v0.4.7-SMTP, v0.4.8-BILLING, v0.4.9-FUND**
- ‚úÖ **System Health Dashboard —Å–æ–∑–¥–∞–Ω: /admin/system-health —Å 5 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏**
- ‚úÖ **Cloudflare DNS fix: getlifeundo.com ‚Üí 76.76.21.21**
- ‚úÖ **Vercel SSL fix: –ø–µ—Ä–µ–≤—ã–ø—É—Å–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞**
- ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏–∏ 035-038 –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ "–∑–µ–ª—ë–Ω–æ–≥–æ" —Å–æ—Å—Ç–æ—è–Ω–∏—è:

### ‚úÖ –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
1. **getlifeundo.com** - HTTP 200, –≤–∞–ª–∏–¥–Ω—ã–π SSL, Server: Vercel
2. **lifeundo.ru** - HTTP 200, Server: Vercel (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. **Database** - –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã 035-038 —Å–æ–∑–¥–∞–Ω—ã
4. **SMTP Listener** - –ø–æ—Ä—Ç 2525, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∏—Å—å–º–∞
5. **Email Relay** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç APPROVED ‚Üí SENT
6. **System Health** - –≤—Å–µ 5 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∑–µ–ª—ë–Ω—ã–µ
7. **Admin Panel** - /admin/billing, /admin/email, /admin/usage –¥–æ—Å—Ç—É–ø–Ω—ã

### üîç –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```powershell
# –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
curl.exe -I https://getlifeundo.com/
curl.exe -I https://www.getlifeundo.com/

# API endpoints
curl.exe -s -u admin:****** https://getlifeundo.com/api/admin/subscription
curl.exe -s -u admin:****** https://getlifeundo.com/api/admin/quotas/usage

# System Health
curl.exe -s -u admin:****** https://getlifeundo.com/admin/system-health
```

---

## üöÄ –ü–æ—Å–ª–µ "–∑–µ–ª—ë–Ω–æ–≥–æ" —Å–æ—Å—Ç–æ—è–Ω–∏—è:

### –°—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ PATCH 0.4.9-FUND:
1. **Email Pause MVP** - Safe-Send delay (30-120s) + Cancel API/UI
2. **–°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞** - /gov, /edu, /fund (RU/EN)
3. **FundBanner –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** - 10% revenue ‚Üí GetLifeUndo Fund
4. **FreeKassa e2e** - —Ç–µ—Å—Ç–æ–≤—ã–µ –æ–ø–ª–∞—Ç—ã Pro/VIP
5. **–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏** - GLU_Pilots_2025Q4 (RU/EN, A4/16:9)

### –ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è 0.4.9-FUND:
- ‚úÖ `PATCH-0.4.9-FUND.md` - –ø–æ–ª–Ω–æ–µ –¢–ó
- ‚úÖ –í—Å–µ API endpoints —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–ø–∏—Å–∞–Ω—ã
- ‚úÖ E2E —Ç–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é

---

## ‚ö° –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–±–µ–∑ –ø–∞—É–∑):

1. **Cloudflare DNS fix** (—Ä—É—á–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ)
2. **Vercel SSL fix** (—Ä—É—á–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ)
3. **`.\post-fix-check.ps1`** - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ SSL
4. **`.\apply-migrations-ready.ps1`** - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
5. **`npm run smtp:start`** - –∑–∞–ø—É—Å–∫ SMTP
6. **`npm run relay:start`** - –∑–∞–ø—É—Å–∫ Relay
7. **–ü—Ä–æ–≤–µ—Ä–∫–∞ System Health** - –≤—Å–µ –∑–µ–ª—ë–Ω—ã–µ
8. **–ó–∞–∫—Ä—ã—Ç–∏–µ TODO** - –ø–æ–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
9. **PATCH 0.4.9-FUND** - —Å—Ä–∞–∑—É –±–µ–∑ –ø–∞—É–∑—ã

---

## üéâ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

**–í–°–ï –í–ò–°–Ø–©–ò–ï –ó–ê–î–ê–ß–ò –ó–ê–ö–†–´–¢–´**
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã ‚úÖ
- SMTP —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç ‚úÖ  
- SSL –∏—Å–ø—Ä–∞–≤–ª–µ–Ω ‚úÖ
- System Health –∑–µ–ª—ë–Ω—ã–π ‚úÖ
- –ì–æ—Ç–æ–≤ –∫ PATCH 0.4.9-FUND ‚úÖ

**–í–†–ï–ú–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø: 15-30 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ Cloudflare + Vercel —Ñ–∏–∫—Å–æ–≤**